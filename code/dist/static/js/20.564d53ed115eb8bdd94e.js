webpackJsonp([20],{"0nBc":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("5YLu"),s={props:{},data:function(){return{navData:[{name:"实验打分",path:"/admin/courseList/score/"+this.$route.params.courseId},{name:"学生打分界面",path:""}],form:{},imageUrl:"",rules:{status:[{required:!0,message:"不能为空",trigger:"blur"}],teacherComment:[{required:!0,message:"不能为空",trigger:"blur"}],experimentAchievement:[{required:!0,pattern:/^([1-9]?\d|0|100)$/,message:"不能为空或数值应在0~100之间的整数",trigger:"blur"}]}}},computed:{},created:function(){var e=this;this.$http.get("/teaching/teacher/achievement/judge/detail/"+this.$route.params.experimentId+"?&userId="+this.$route.params.userId).then(function(t){"0"==t.data.code?e.form=t.data.data:"1"==t.data.code?e.$router.push("/login"):e.$message({message:t.data.msg,type:"error"}),e.loading=!1}).catch(function(e){console.log(e)})},mounted:function(){},watch:{},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.$http.post("/teaching/teacher/achievement/judge/save",{userExperimentId:t.form.userExperimentId,teacherComment:t.form.teacherComment,status:t.form.status,experimentAchievement:t.form.experimentAchievement}).then(function(e){"0"==e.data.code?(t.$message({message:"打分成功！",type:"success"}),t.$router.push("/admin/courseList/score/"+t.$route.params.courseId)):"1"==e.data.code?t.$router.push("/login"):t.$message({message:e.data.msg,type:"error"}),t.loading=!1}).catch(function(e){console.log(e)})})},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,r=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&r}},components:{breadCrumb:r("ZmIX").a,TinymceEditor:a.a}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page"},[r("div",{staticClass:"containner"},[r("breadCrumb",{attrs:{data:e.navData}}),e._v(" "),r("div",{staticClass:"contain"},[r("span",{staticClass:"headInfo"},[r("img",{attrs:{src:e.form.headUrl,alt:""}}),e._v(" "),r("span",[r("h4",[e._v(e._s(e.form.userName))]),e._v(" "),r("p",[e._v(e._s(e.form.userNumber))])])]),e._v(" "),r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"学生答案"}},[r("tinymceEditor",{model:{value:e.form.userExperimentText,callback:function(t){e.$set(e.form,"userExperimentText",t)},expression:"form.userExperimentText"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否通过",prop:"status"}},[r("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[r("el-radio",{attrs:{label:"1"}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:"0"}},[e._v("否")])],1)],1),e._v(" "),1==e.form.status?r("el-form-item",{attrs:{label:"最终分数",prop:"experimentAchievement"}},[r("el-input",{model:{value:e.form.experimentAchievement,callback:function(t){e.$set(e.form,"experimentAchievement",t)},expression:"form.experimentAchievement"}})],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"老师评语",prop:"teacherComment"}},[r("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入内容"},model:{value:e.form.teacherComment,callback:function(t){e.$set(e.form,"teacherComment",t)},expression:"form.teacherComment"}}),e._v(" "),r("div",{staticClass:"attachTxt"},[e._v("\n                        最多200字\n                    ")])],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("确定")]),e._v(" "),r("el-button",[e._v("取消")])],1)],1)],1)],1)])},staticRenderFns:[]};var n=r("VU/8")(s,o,!1,function(e){r("5Kt8")},"data-v-f1177672",null);t.default=n.exports},"5Kt8":function(e,t){}});
//# sourceMappingURL=20.564d53ed115eb8bdd94e.js.map