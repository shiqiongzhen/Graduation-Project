{"version":3,"sources":["webpack:///src/page/admin/courseExperiment/detail.vue","webpack:///./src/page/admin/courseExperiment/detail.vue?eb72","webpack:///./src/page/admin/courseExperiment/detail.vue"],"names":["detail","props","data","navData","name","path","this","$route","params","courseId","isLock","isOver","editMessage","editDetail","editFile","editAnswer","editAnswerFile","editOperate","form","isAnswerQuezhi","rules","experimentName","required","message","trigger","valve","experimentDetailFile","experimentAnswerFile","computed","created","init","mounted","filters","recordStatus","value","watch","methods","handleFileSuccess","file","fileList","response","push","console","log","handleFileRemove","$refs","uploadDetailFile","clearFiles","handleAnswerFileSuccess","handleAnswerFileRemove","uploadAnswerFile","updateInfo","formName","_this","validate","valid","$http","post","experimentId","experimentIntro","then","res","code","$message","type","$router","msg","catch","error","updateDetail","_this2","experimentDetailId","experimentText","loading","updateDetailFile","param","_this3","updateAnswer","_this4","experimentAnswerId","experimentAnswerContent","punishment","updateAnswerFile","_this5","filterFiles","lockExperiment","_this6","get","recoverExperiment","_this7","overExperiment","_this8","delExperiment","_this9","closeInfo","closeDetail","closeDetailFile","closeAnswer","closeAnswerFile","transformFile","result","Array","i","length","fileName","url","filePath","allFiles","files","j","_this10","experimentStatus","components","breadCrumb","TinymceEditor","tinymce_editor","uploadFile","courseExperiment_detail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","on","click","$event","src","__webpack_require__","alt","_s","_f","_m","ref","model","label-width","label","prop","callback","$$v","$set","expression","staticStyle","width","line-height","margin-top","title","show-icon","_e","size","domProps","innerHTML","_l","item","index","key","href","allFile","someFile","updateFile","closeFile","placeholder","action","file-list","on-change","on-remove","slot","background-color","disabled","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/22.a020426e41ac421982f7.js","sourcesContent":["<template>\r\n    <div class=\"page\">\r\n        <breadCrumb :data=\"navData\"></breadCrumb>\r\n        <div class=\"containner\">\r\n            <div class=\"session\">\r\n                <div class=\"navTitle\">\r\n                    <span class=\"title\">基本信息</span>\r\n                    <i @click=\"editMessage=!editMessage\" class=\"el-icon-edit-outline\"></i>\r\n                </div>\r\n                <div class=\"content specialContent\" v-if=\"editMessage==false\">\r\n                    <div class=\"item\">\r\n                        <img src=\"@/assets/image/logo/logo80.png\" alt=\"\">\r\n                        <span class=\"description\">\r\n                            <div>实验名称：{{detail.experimentName}}</div>\r\n                            <div>实验状态：<span class=\"colorText\">{{detail.experimentStatus  | recordStatus}}</span></div>\r\n                            <div>解锁阈值：<span class=\"colorText\">{{detail.valve}}</span></div>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"content editMessage specialContent\" v-else>\r\n                    <div class=\"item\">\r\n                        <div class=\"imageBox\">\r\n                            <img src=\"@/assets/image/logo/logo80.png\" alt=\"\">\r\n                        </div>\r\n                        <span class=\"description\">\r\n                            <el-form ref=\"detail\" :rules=\"rules\" :model=\"detail\" label-width=\"120px\">\r\n                                <el-form-item label=\"课程名称\" prop=\"experimentName\">\r\n                                    <el-input v-model=\"detail.experimentName\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"课程简介\">\r\n                                    <el-input v-model=\"detail.experimentIntro\"></el-input>\r\n                                </el-form-item>\r\n                                <!-- <el-form-item label=\"试验状态\" prop=\"resource\">\r\n                                    <el-radio-group v-model=\"detail.experimentStatus\">\r\n                                        <el-radio label=\"0\">解锁</el-radio>\r\n                                        <el-radio label=\"1\">未解锁</el-radio>\r\n                                    </el-radio-group>\r\n                                </el-form-item> -->\r\n                                <!-- <el-form-item label=\"设置实验解锁阈值为\" prop=\"resource\" v-if=\"detail.experimentStatus==1\">\r\n                                    <el-radio-group v-model=\"form.isQuezhi\">\r\n                                        <el-radio label=\"0\">是</el-radio>\r\n                                        <el-radio label=\"1\">否</el-radio>\r\n                                    </el-radio-group>\r\n                                    <el-form-item v-if=\"form.isQuezhi==0\">\r\n                                        <el-input v-model=\"detail.valve\" style=\"width:120px;\"></el-input>\r\n                                        <el-alert\r\n                                            title=\"提示：当提交实验的人数占比（班级人数）大于阈值时，将自动解锁下一个实验\"\r\n                                            type=\"info\" show-icon style=\"line-height: 1em;margin-top:1em;\">\r\n                                        </el-alert>\r\n                                    </el-form-item>\r\n                                </el-form-item> -->\r\n                                <el-form-item label=\"解锁阈值\">\r\n                                    <el-radio-group v-model=\"form.isAnswerQuezhi\">\r\n                                        <el-radio label=\"0\">是</el-radio>\r\n                                        <el-radio label=\"1\">否</el-radio>\r\n                                    </el-radio-group>\r\n                                    <el-form-item v-if=\"form.isAnswerQuezhi==0\" prop=\"valve\">\r\n                                        <el-input v-model=\"detail.valve\" style=\"width:120px;\"></el-input>\r\n                                        <el-alert\r\n                                            title=\"提示：当学生点击查看参考答案时，最终实验成绩=教师打分*阈值比例\"\r\n                                            type=\"info\" show-icon style=\"line-height: 1em;margin-top:1em;\">\r\n                                        </el-alert>\r\n                                    </el-form-item>\r\n                                </el-form-item>\r\n                                <el-form-item>\r\n                                    <el-button size=\"small\" type=\"primary\" @click=\"updateInfo('detail')\">确定</el-button>\r\n                                    <el-button size=\"small\" type=\"info\" @click=\"closeInfo()\">取消</el-button>\r\n                                </el-form-item>\r\n                            </el-form>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"session\">\r\n                <div class=\"navTitle\">\r\n                    <span class=\"title\">实验详情</span>\r\n                    <i @click=\"editDetail=!editDetail\" class=\"el-icon-edit-outline\"></i>\r\n                </div>\r\n                <div class=\"content\" v-if=\"editDetail==false\" v-html=\"detail.experimentText\"></div>\r\n                <div class=\"content\" v-else>\r\n                    <tinymceEditor v-model=\"detail.experimentText\"></tinymceEditor>\r\n                    <div class=\"btnGroup-center\">\r\n                        <el-button size=\"small\" type=\"primary\" @click=\"updateDetail()\">确定</el-button>\r\n                        <el-button size=\"small\" type=\"info\" @click=\"closeDetail()\">取消</el-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"session\">\r\n                <div class=\"navTitle\">\r\n                    <span class=\"title\">实验附件</span>\r\n                    <i @click=\"editFile=!editFile\" class=\"el-icon-edit-outline\"></i>\r\n                </div>\r\n                <div class=\"content\" v-if=\"editFile==false\">\r\n                    <p v-for=\"(item,index) in detail.experimentDetailFile\" :key=\"index\"><a :href=\"item.filePath\">{{item.fileName}}</a></p>\r\n                </div>\r\n                <div class=\"content\" v-else>\r\n                    <uploadFile\r\n                    :allFile= \"detail.experimentDetailFile\"\r\n                    :someFile= \"experimentDetailFile\"\r\n                    v-on:updateFile= \"updateDetailFile\"\r\n                    v-on:closeFile= \"closeDetailFile\"\r\n                    ></uploadFile>\r\n                    <!-- <el-upload\r\n                    ref=\"uploadDetailFile\"\r\n                    class=\"uploadFile\"\r\n                    action=\"/teaching/common/file/upload\"\r\n                    :file-list=\"experimentDetailFile\"\r\n                    :on-change=\"handleFileSuccess\"\r\n                    :on-remove=\"handleFileRemove\">\r\n                        <el-button size=\"small\" type=\"primary\">点击上传附件</el-button>\r\n                        <span slot=\"tip\" class=\"el-upload__tip\">可上传最多30个答案附件，单个附件不可超过300MB</span>\r\n                    </el-upload>\r\n                    <div class=\"btnGroup\">\r\n                        <el-button size=\"small\" type=\"primary\" @click=\"updateDetailFile()\">确定</el-button>\r\n                        <el-button size=\"small\" type=\"info\" @click=\"closeDetailFile()\">取消</el-button>\r\n                    </div> -->\r\n                </div>\r\n            </div>\r\n            <div class=\"session\">\r\n                <div class=\"navTitle\">\r\n                    <span class=\"title\">实验答案</span>\r\n                    <i @click=\"editAnswer=!editAnswer\" class=\"el-icon-edit-outline\"></i>\r\n                </div>\r\n                <div class=\"content\" v-if=\"editAnswer==false\">\r\n                    <p class=\"valve colorText\">答案阈值：<span>{{detail.punishment||\"未设置阈值\"}}</span></p>\r\n                    <p class=\"answer\">实验答案：<span v-html=\"detail.experimentAnswerContent\"></span></p>\r\n                </div>\r\n                <div class=\"content\" v-else>\r\n                    <div class=\"simpleInput\">\r\n                        <span class=\"label\" >答案阈值：</span><el-input size=\"small\" v-model=\"detail.punishment\" placeholder=\"请输入实验阈值\"></el-input>\r\n                    </div>\r\n                    <tinymceEditor v-model=\"detail.experimentAnswerContent\"></tinymceEditor>\r\n                    <div class=\"btnGroup-center\">\r\n                        <el-button size=\"small\" type=\"primary\" @click=\"updateAnswer()\">确定</el-button>\r\n                        <el-button size=\"small\" type=\"info\" @click=\"closeAnswer()\">取消</el-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"session\">\r\n                <div class=\"navTitle\">\r\n                    <span class=\"title\">实验答案附件</span>\r\n                    <i @click=\"editAnswerFile=!editAnswerFile\" class=\"el-icon-edit-outline\"></i>\r\n                </div>\r\n                <div class=\"content\" v-if=\"editAnswerFile==false\">\r\n                    <p v-for=\"(item,index) in detail.experimentAnswerFile\" :key=\"index\"><a :href=\"item.filePath\">{{item.fileName}}</a></p>\r\n                </div>\r\n                <div class=\"content\" v-else>\r\n                    <el-upload\r\n                    ref=\"uploadAnswerFile\"\r\n                    class=\"uploadFile\"\r\n                    action=\"/teaching/common/file/upload\"\r\n                    :file-list=\"experimentAnswerFile\"\r\n                    :on-change=\"handleAnswerFileSuccess\"\r\n                    :on-remove=\"handleAnswerFileRemove\">\r\n                        <el-button size=\"small\" type=\"primary\">点击上传附件</el-button>\r\n                        <span slot=\"tip\" class=\"el-upload__tip\">可上传最多30个答案附件，单个附件不可超过300MB</span>\r\n                    </el-upload>\r\n                    <div class=\"btnGroup\">\r\n                        <el-button size=\"small\" type=\"primary\" @click=\"updateAnswerFile()\">确定</el-button>\r\n                        <el-button size=\"small\" type=\"info\" @click=\"closeAnswerFile()\">取消</el-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"session\">\r\n                <div class=\"navTitle\">\r\n                    <span class=\"title\">实验操作</span>\r\n                    <!-- <i @click=\"editOperate=true\" class=\"el-icon-edit-outline\"></i> -->\r\n                </div>\r\n                <div class=\"content operation\">\r\n                    <el-row>\r\n                        <span v-if=\"isLock==false\">\r\n                            <el-button style=\"background-color:#F79500;\" :disabled=\"isOver\"  @click=\"lockExperiment()\">锁定实验</el-button>\r\n                            <!-- <div>锁定完状态可以恢复</div> -->\r\n                        </span>\r\n                        <span v-if=\"isLock==true\">\r\n                            <el-button type=\"success\" :disabled=\"isOver\" @click=\"recoverExperiment()\">解锁实验</el-button>\r\n                            <!-- <div>锁定完状态可以恢复</div> -->\r\n                        </span>\r\n                        <span>\r\n                            <el-button type=\"danger\" :disabled=\"isOver\" @click=\"overExperiment()\">完结实验</el-button>\r\n                            <!-- <div>结束了就不可以恢复</div> -->\r\n                        </span>\r\n                        <span>\r\n                            <el-button type=\"info\" :disabled=\"!isOver\" @click=\"delExperiment()\">删除实验</el-button>\r\n                            <!-- <div>只有完结课程才可以删除</div> -->\r\n                        </span>\r\n                    </el-row>\r\n                    <div class=\"btnText\">注：只有已结束的课程才可以被删除</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport breadCrumb from '@/components/breadCrumb'\r\nimport TinymceEditor from '@/components/tinymce-editor'\r\nimport uploadFile from '@/components/uploadFile'\r\nexport default {\r\n    props: {\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            navData:[\r\n                {\r\n                    name: \"实验列表\",\r\n                    path: `/admin/courseList/experiment/${this.$route.params.courseId}`\r\n                },{\r\n                    name: \"实验详情\",\r\n                    path: \"\"\r\n                }\r\n            ],\r\n            isLock: false,\r\n            isOver: false, // b\r\n            detail: {},\r\n            editMessage: false,\r\n            editDetail: false,\r\n            editFile: false,\r\n            editAnswer: false,\r\n            editAnswerFile: false,\r\n            editOperate: false,\r\n            form: {\r\n                // experimentIntro: '',\r\n                // isQuezhi:'0',//\r\n                isAnswerQuezhi:'0',//\r\n                // punishment:''\r\n            },\r\n            rules: {\r\n                experimentName: [\r\n                    { required: true, message: '不能为空', trigger: 'blur'  }\r\n                ],\r\n                valve: [\r\n                    { required: true, message: '不能为空', trigger: 'blur'  }\r\n                ]\r\n            },\r\n            experimentDetailFile: [], //.experimentDetailFile\r\n            experimentAnswerFile:[] //this.detail.experimentAnswerFile\r\n        };\r\n    },\r\n    computed: {\r\n\r\n    },\r\n    created() {\r\n        this.init()\r\n    },\r\n    mounted() {\r\n\r\n    },\r\n    filters:{\r\n        recordStatus(value){\r\n            switch(value){\r\n                case 0:return '正常';break;\r\n                case 1:return '锁定';break;\r\n                case 2:return '删除';break;\r\n                case 3:return '结束';break;\r\n                default:return '';\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n\r\n    },\r\n    methods: {\r\n        handleFileSuccess(file, fileList) {\r\n            if(file.response){\r\n                this.detail.experimentDetailFile.push(file.response.data);\r\n            }\r\n            this.experimentDetailFile = fileList\r\n            console.log(\"su\",this.detail.experimentDetailFile)\r\n        },\r\n        handleFileRemove(file, fileList){\r\n            this.$refs.uploadDetailFile.clearFiles()\r\n            this.experimentDetailFile = fileList\r\n            console.log(\"mv\", this.experimentDetailFile)\r\n        },\r\n        handleAnswerFileSuccess(file, fileList) {\r\n            if(file.response){\r\n                this.detail.experimentAnswerFile.push(file.response.data);\r\n            }\r\n            this.experimentAnswerFile = fileList\r\n        },\r\n        handleAnswerFileRemove(file, fileList){\r\n            this.$refs.uploadAnswerFile.clearFiles()\r\n            this.experimentAnswerFile = fileList\r\n        },\r\n        updateInfo(formName){\r\n        this.$refs[formName].validate((valid) => {\r\n            if (valid) {\r\n                this.$http.post(`/teaching/teacher/experiment/updateExperimentInfo`,{\r\n                        \"experimentId\": this.detail.experimentId,\r\n                        \"experimentName\": this.detail.experimentName,\r\n                        \"valve\": this.detail.valve,\r\n                        \"experimentIntro\": this.detail.experimentIntro,\r\n                        // \"punishment\": this.form.punishment\r\n                    }\r\n                ).then((res) => { \r\n                    if(res.data.code == \"0\"){\r\n                        this.editMessage = false\r\n                        this.$message({\r\n                            message: \"更新成功！\",\r\n                            type: 'success'\r\n                        });\r\n                    }else if (res.data.code == \"1\") {\r\n                        this.$router.push('/login'); \r\n                    }else{\r\n                        this.$message({\r\n                            message: res.data.msg,\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error)\r\n                })\r\n             }\r\n            })\r\n        },\r\n        updateDetail(){\r\n            this.$http.post(`/teaching/teacher/experiment/updateExperimentDetail`,{\r\n                   \"experimentDetailId\": this.detail.experimentDetailId, \r\n\t                \"experimentText\": this.detail.experimentText\r\n                }\r\n            ).then((res) => { \r\n                if(res.data.code == \"0\"){\r\n                    this.editDetail = false\r\n                    this.$message({\r\n                        message: \"更新成功！\",\r\n                        type: 'success'\r\n                    });\r\n                // }else if (res.data.code == \"1\") {\r\n                    //  this.$router.push('/login'); \r\n                }else{\r\n                    this.$message({\r\n                        message: res.data.msg,\r\n                        type: 'error'\r\n                    });\r\n                }\r\n                this.loading=false\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error)\r\n            })\r\n        },\r\n        updateDetailFile(param){\r\n            console.log(\"123\")\r\n            this.$http.post(`/teaching/teacher/experiment/updateExperimentFile`,{\r\n                    \"experimentId\": this.detail.experimentId,\r\n                    \"experimentDetailFile\": param\r\n                }\r\n            ).then((res) => { \r\n                if(res.data.code == \"0\"){\r\n                    this.editFile = false\r\n                    this.init()\r\n                    this.$message({\r\n                        message: \"更新成功！\",\r\n                        type: 'success'\r\n                    });\r\n                // }else if (res.data.code == \"1\") {\r\n                    //  this.$router.push('/login'); \r\n                }else{\r\n                    this.$message({\r\n                        message: res.data.msg,\r\n                        type: 'error'\r\n                    });\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error)\r\n            })\r\n        },\r\n        updateAnswer(){\r\n            this.$http.post(`/teaching/teacher/experiment/updateExperimentAnswer`,{\r\n                    \"experimentAnswerId\":this.detail.experimentAnswerId,\r\n                    \"experimentAnswerContent\":this.detail.experimentAnswerContent,\r\n                    \"experimentId\":this.detail.experimentId,\r\n                    \"punishment\":this.detail.punishment\r\n                }\r\n            ).then((res) => { \r\n                if(res.data.code == \"0\"){\r\n                    this.editAnswer = false\r\n                    this.$message({\r\n                        message: \"更新成功！\",\r\n                        type: 'success'\r\n                    });\r\n                // }else if (res.data.code == \"1\") {\r\n                    //  this.$router.push('/login'); \r\n                }else{\r\n                    this.$message({\r\n                        message: res.data.msg,\r\n                        type: 'error'\r\n                    });\r\n                }\r\n                this.loading=false\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error)\r\n            })\r\n        },\r\n        updateAnswerFile(){\r\n            this.$http.post(`/teaching/teacher/experiment/updateExperimentAnswerFile`,{\r\n                    \"experimentAnswerId\":this.detail.experimentAnswerId,\r\n                    \"experimentAnswerFile\": this.filterFiles(this.detail.experimentAnswerFile,this.experimentAnswerFile)\r\n                }\r\n            ).then((res) => { \r\n                if(res.data.code == \"0\"){\r\n                    this.editAnswerFile = false\r\n                    this.init()\r\n                    this.$message({\r\n                        message: \"更新成功！\",\r\n                        type: 'success'\r\n                    });\r\n                // }else if (res.data.code == \"1\") {\r\n                    //  this.$router.push('/login'); \r\n                }else{\r\n                    this.$message({\r\n                        message: res.data.msg,\r\n                        type: 'error'\r\n                    });\r\n                }\r\n                this.loading=false\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error)\r\n            })\r\n        },\r\n        lockExperiment(){\r\n            this.$http.get(`/teaching/teacher/experiment/lock/${this.$route.params.experimentId}`\r\n            ).then((res) => { \r\n                if(res.data.code == \"0\"){\r\n                    this.$message({\r\n                        message: res.data.msg,\r\n                        type: 'success'\r\n                    });\r\n                    this.init()\r\n                    this.isLock=true\r\n                // }else if (res.data.code == \"1\") {\r\n                    //  this.$router.push('/login'); \r\n                }else{\r\n                    this.$message({\r\n                        message: res.data.msg,\r\n                        type: 'error'\r\n                    });\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error)\r\n            })\r\n        },\r\n        recoverExperiment(){\r\n            this.$http.get(`/teaching/teacher/experiment/unlock/${this.$route.params.experimentId}`\r\n            ).then((res) => { \r\n                if(res.data.code == \"0\"){\r\n                    this.$message({\r\n                        message: res.data.msg,\r\n                        type: 'success'\r\n                    });\r\n                    this.init()\r\n                    this.isLock=false\r\n                // }else if (res.data.code == \"1\") {\r\n                    //  this.$router.push('/login'); \r\n                }else{\r\n                    this.$message({\r\n                        message: res.data.msg,\r\n                        type: 'error'\r\n                    });\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error)\r\n            })\r\n        },\r\n        overExperiment(){\r\n            this.$http.get(`/teaching/teacher/experiment/end/${this.$route.params.experimentId}`\r\n            ).then((res) => { \r\n                if(res.data.code == \"0\"){\r\n                    this.$message({\r\n                        message: res.data.msg,\r\n                        type: 'success'\r\n                    });\r\n                    this.init()\r\n                    this.isOver=true\r\n                // }else if (res.data.code == \"1\") {\r\n                    //  this.$router.push('/login'); \r\n                }else{\r\n                    this.$message({\r\n                        message: res.data.msg,\r\n                        type: 'error'\r\n                    });\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error)\r\n            })\r\n        },\r\n        delExperiment(){\r\n            this.$http.get(`/teaching/teacher/experiment/invalid/${this.$route.params.experimentId}`\r\n            ).then((res) => { \r\n                if(res.data.code == \"0\"){\r\n                    this.$router.push(`/admin/courseList/experiment/${this.$route.params.courseId}`)\r\n                // }else if (res.data.code == \"1\") {\r\n                    //  this.$router.push('/login'); \r\n                }else{\r\n                    this.$message({\r\n                        message: res.data.msg,\r\n                        type: 'error'\r\n                    });\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error)\r\n            })\r\n        },\r\n        closeInfo(){\r\n            this.editMessage=false\r\n            this.init()\r\n        },\r\n        closeDetail(){\r\n            this.editDetail=false\r\n            this.init()\r\n        },\r\n        closeDetailFile(){\r\n            this.editFile=false\r\n            this.init()\r\n        },\r\n        closeAnswer(){\r\n            this.editAnswer=false\r\n            this.init()\r\n        },\r\n        closeAnswerFile(){\r\n            this.editAnswerFile=false\r\n            this.init()\r\n        },\r\n        transformFile(file){\r\n            var result =[]\r\n            if(file instanceof Array){\r\n                for(let i=0;i<file.length;i++){\r\n                    result.push({\"name\":file[i].fileName,\"url\":file[i].filePath})\r\n                }\r\n            }\r\n            return result\r\n        },\r\n        filterFiles(allFiles, files){\r\n            var result = []\r\n            for(let i=0;i<files.length;i++){\r\n                for(let j=0;j<allFiles.length;j++){\r\n                    if(files[i].name==allFiles[j].fileName){\r\n                        result.push(allFiles[j])\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            // console.log(\"filterFiles\",result,allFiles, files)\r\n            return result\r\n        },\r\n        init(){\r\n            this.$http.get(`/teaching/teacher/experiment/detail/${this.$route.params.experimentId}`\r\n            ).then((res) => { \r\n                if(res.data.code == \"0\"){\r\n                    this.detail = res.data.data\r\n                    this.experimentDetailFile = this.transformFile(this.detail.experimentDetailFile)\r\n                    this.experimentAnswerFile = this.transformFile(this.detail.experimentAnswerFile)\r\n                    // this.detail.experimentStatus = this.detail.experimentStatus.toString()\r\n                    if(!this.detail.experimentDetailFile){\r\n                        this.detail.experimentDetailFile = [] //.experimentDetailFile\r\n                    }\r\n                    if(!this.detail.experimentAnswerFile){\r\n                        this.detail.experimentAnswerFile =[]\r\n                    }\r\n                    if(this.detail.experimentStatus==3){\r\n                        this.isOver=true\r\n                    }\r\n                    if(this.detail.experimentStatus==1){\r\n                        this.isLock=true\r\n                    }\r\n                    if(this.detail.experimentStatus==0){\r\n                        this.isLock=false\r\n                    }\r\n                // }else if (res.data.code == \"1\") {\r\n                    //  this.$router.push('/login'); \r\n                }else{\r\n                    this.$message({\r\n                        message: res.data.msg,\r\n                        type: 'error'\r\n                    });\r\n                }\r\n                this.loading=false\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error)\r\n            })\r\n        }\r\n    },\r\n    components: {\r\n        breadCrumb,\r\n        TinymceEditor,\r\n        uploadFile\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.page{\r\n    padding: 0 20px;\r\n    .containner{\r\n        // padding:0 1em;\r\n        padding:10px 0 16px 16px;\r\n        .colorText{\r\n            color: #F75C39;\r\n        }\r\n        .btnText{\r\n            color: #3D3D3D;\r\n            font-size: 12px;\r\n            margin-top: 6px;\r\n            margin-left: 10px;\r\n        }\r\n        .session{\r\n            .navTitle{\r\n                padding:10px;\r\n                position: relative;\r\n                border-bottom: 1px solid #E9E9E9;\r\n                height: 1em;\r\n                line-height: 1em;\r\n                .title{\r\n                    float: left;\r\n                }\r\n                i{\r\n                    float: right;\r\n                }\r\n            }\r\n            .content{\r\n                padding: 1em;\r\n                color:#333333;\r\n                // padding: 2em 5em 3em;\r\n                .simpleInput{\r\n                    margin-bottom: 1em;\r\n                    .el-input{\r\n                        width: 100px;\r\n                    }\r\n                }\r\n                p{\r\n                    line-height: 2em;\r\n                }\r\n                .item{\r\n                    .description{\r\n                        display: inline-block;\r\n                        line-height: 2em;\r\n                        margin-left: 1em;\r\n                    }\r\n                }\r\n                .btnGroup-center{\r\n                    margin: 2em 0;\r\n                    text-align: center;\r\n                }\r\n                .btnGroup{\r\n                    margin: 1em 0;\r\n                }\r\n                .uploadFile{\r\n                    padding: 0.5em;\r\n                    background: #F4F4F5;\r\n                    span{\r\n                        color: #6D7278;\r\n                        margin-left: 1em;\r\n                    }\r\n                }\r\n            }\r\n            .specialContent{\r\n                padding: 2em 5em 3em;\r\n            }\r\n            .editMessage{    \r\n                .imageBox{\r\n                    display: inline-block;\r\n                    vertical-align: top;\r\n                    padding-top: 4em;\r\n                    width: 15%;\r\n                    box-sizing: border-box;\r\n                }\r\n                .description{\r\n                    border-left: 1px solid #E5E5E5;\r\n                    padding: 0 2em;\r\n                    width: 75%;\r\n                    box-sizing: border-box;\r\n                }\r\n            }\r\n            .operation{\r\n                span{\r\n                    padding: 10px;\r\n                    text-align: center;\r\n                    display: inline-block;\r\n                    div{\r\n                        padding: 7px;\r\n                        font-size: 12px;\r\n                        color:#E02020;\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n \r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/admin/courseExperiment/detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('breadCrumb',{attrs:{\"data\":_vm.navData}}),_vm._v(\" \"),_c('div',{staticClass:\"containner\"},[_c('div',{staticClass:\"session\"},[_c('div',{staticClass:\"navTitle\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"基本信息\")]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-edit-outline\",on:{\"click\":function($event){_vm.editMessage=!_vm.editMessage}}})]),_vm._v(\" \"),(_vm.editMessage==false)?_c('div',{staticClass:\"content specialContent\"},[_c('div',{staticClass:\"item\"},[_c('img',{attrs:{\"src\":require(\"@/assets/image/logo/logo80.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('span',{staticClass:\"description\"},[_c('div',[_vm._v(\"实验名称：\"+_vm._s(_vm.detail.experimentName))]),_vm._v(\" \"),_c('div',[_vm._v(\"实验状态：\"),_c('span',{staticClass:\"colorText\"},[_vm._v(_vm._s(_vm._f(\"recordStatus\")(_vm.detail.experimentStatus)))])]),_vm._v(\" \"),_c('div',[_vm._v(\"解锁阈值：\"),_c('span',{staticClass:\"colorText\"},[_vm._v(_vm._s(_vm.detail.valve))])])])])]):_c('div',{staticClass:\"content editMessage specialContent\"},[_c('div',{staticClass:\"item\"},[_vm._m(0),_vm._v(\" \"),_c('span',{staticClass:\"description\"},[_c('el-form',{ref:\"detail\",attrs:{\"rules\":_vm.rules,\"model\":_vm.detail,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"课程名称\",\"prop\":\"experimentName\"}},[_c('el-input',{model:{value:(_vm.detail.experimentName),callback:function ($$v) {_vm.$set(_vm.detail, \"experimentName\", $$v)},expression:\"detail.experimentName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"课程简介\"}},[_c('el-input',{model:{value:(_vm.detail.experimentIntro),callback:function ($$v) {_vm.$set(_vm.detail, \"experimentIntro\", $$v)},expression:\"detail.experimentIntro\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"解锁阈值\"}},[_c('el-radio-group',{model:{value:(_vm.form.isAnswerQuezhi),callback:function ($$v) {_vm.$set(_vm.form, \"isAnswerQuezhi\", $$v)},expression:\"form.isAnswerQuezhi\"}},[_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"否\")])],1),_vm._v(\" \"),(_vm.form.isAnswerQuezhi==0)?_c('el-form-item',{attrs:{\"prop\":\"valve\"}},[_c('el-input',{staticStyle:{\"width\":\"120px\"},model:{value:(_vm.detail.valve),callback:function ($$v) {_vm.$set(_vm.detail, \"valve\", $$v)},expression:\"detail.valve\"}}),_vm._v(\" \"),_c('el-alert',{staticStyle:{\"line-height\":\"1em\",\"margin-top\":\"1em\"},attrs:{\"title\":\"提示：当学生点击查看参考答案时，最终实验成绩=教师打分*阈值比例\",\"type\":\"info\",\"show-icon\":\"\"}})],1):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.updateInfo('detail')}}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.closeInfo()}}},[_vm._v(\"取消\")])],1)],1)],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"session\"},[_c('div',{staticClass:\"navTitle\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"实验详情\")]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-edit-outline\",on:{\"click\":function($event){_vm.editDetail=!_vm.editDetail}}})]),_vm._v(\" \"),(_vm.editDetail==false)?_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.detail.experimentText)}}):_c('div',{staticClass:\"content\"},[_c('tinymceEditor',{model:{value:(_vm.detail.experimentText),callback:function ($$v) {_vm.$set(_vm.detail, \"experimentText\", $$v)},expression:\"detail.experimentText\"}}),_vm._v(\" \"),_c('div',{staticClass:\"btnGroup-center\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.updateDetail()}}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.closeDetail()}}},[_vm._v(\"取消\")])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"session\"},[_c('div',{staticClass:\"navTitle\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"实验附件\")]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-edit-outline\",on:{\"click\":function($event){_vm.editFile=!_vm.editFile}}})]),_vm._v(\" \"),(_vm.editFile==false)?_c('div',{staticClass:\"content\"},_vm._l((_vm.detail.experimentDetailFile),function(item,index){return _c('p',{key:index},[_c('a',{attrs:{\"href\":item.filePath}},[_vm._v(_vm._s(item.fileName))])])}),0):_c('div',{staticClass:\"content\"},[_c('uploadFile',{attrs:{\"allFile\":_vm.detail.experimentDetailFile,\"someFile\":_vm.experimentDetailFile},on:{\"updateFile\":_vm.updateDetailFile,\"closeFile\":_vm.closeDetailFile}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"session\"},[_c('div',{staticClass:\"navTitle\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"实验答案\")]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-edit-outline\",on:{\"click\":function($event){_vm.editAnswer=!_vm.editAnswer}}})]),_vm._v(\" \"),(_vm.editAnswer==false)?_c('div',{staticClass:\"content\"},[_c('p',{staticClass:\"valve colorText\"},[_vm._v(\"答案阈值：\"),_c('span',[_vm._v(_vm._s(_vm.detail.punishment||\"未设置阈值\"))])]),_vm._v(\" \"),_c('p',{staticClass:\"answer\"},[_vm._v(\"实验答案：\"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.detail.experimentAnswerContent)}})])]):_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"simpleInput\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"答案阈值：\")]),_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入实验阈值\"},model:{value:(_vm.detail.punishment),callback:function ($$v) {_vm.$set(_vm.detail, \"punishment\", $$v)},expression:\"detail.punishment\"}})],1),_vm._v(\" \"),_c('tinymceEditor',{model:{value:(_vm.detail.experimentAnswerContent),callback:function ($$v) {_vm.$set(_vm.detail, \"experimentAnswerContent\", $$v)},expression:\"detail.experimentAnswerContent\"}}),_vm._v(\" \"),_c('div',{staticClass:\"btnGroup-center\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.updateAnswer()}}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.closeAnswer()}}},[_vm._v(\"取消\")])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"session\"},[_c('div',{staticClass:\"navTitle\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"实验答案附件\")]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-edit-outline\",on:{\"click\":function($event){_vm.editAnswerFile=!_vm.editAnswerFile}}})]),_vm._v(\" \"),(_vm.editAnswerFile==false)?_c('div',{staticClass:\"content\"},_vm._l((_vm.detail.experimentAnswerFile),function(item,index){return _c('p',{key:index},[_c('a',{attrs:{\"href\":item.filePath}},[_vm._v(_vm._s(item.fileName))])])}),0):_c('div',{staticClass:\"content\"},[_c('el-upload',{ref:\"uploadAnswerFile\",staticClass:\"uploadFile\",attrs:{\"action\":\"/teaching/common/file/upload\",\"file-list\":_vm.experimentAnswerFile,\"on-change\":_vm.handleAnswerFileSuccess,\"on-remove\":_vm.handleAnswerFileRemove}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传附件\")]),_vm._v(\" \"),_c('span',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"可上传最多30个答案附件，单个附件不可超过300MB\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"btnGroup\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.updateAnswerFile()}}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.closeAnswerFile()}}},[_vm._v(\"取消\")])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"session\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"content operation\"},[_c('el-row',[(_vm.isLock==false)?_c('span',[_c('el-button',{staticStyle:{\"background-color\":\"#F79500\"},attrs:{\"disabled\":_vm.isOver},on:{\"click\":function($event){return _vm.lockExperiment()}}},[_vm._v(\"锁定实验\")])],1):_vm._e(),_vm._v(\" \"),(_vm.isLock==true)?_c('span',[_c('el-button',{attrs:{\"type\":\"success\",\"disabled\":_vm.isOver},on:{\"click\":function($event){return _vm.recoverExperiment()}}},[_vm._v(\"解锁实验\")])],1):_vm._e(),_vm._v(\" \"),_c('span',[_c('el-button',{attrs:{\"type\":\"danger\",\"disabled\":_vm.isOver},on:{\"click\":function($event){return _vm.overExperiment()}}},[_vm._v(\"完结实验\")])],1),_vm._v(\" \"),_c('span',[_c('el-button',{attrs:{\"type\":\"info\",\"disabled\":!_vm.isOver},on:{\"click\":function($event){return _vm.delExperiment()}}},[_vm._v(\"删除实验\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"btnText\"},[_vm._v(\"注：只有已结束的课程才可以被删除\")])],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"imageBox\"},[_c('img',{attrs:{\"src\":require(\"@/assets/image/logo/logo80.png\"),\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"navTitle\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"实验操作\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-95bd0166\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/admin/courseExperiment/detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-95bd0166\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-95bd0166\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-95bd0166\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/admin/courseExperiment/detail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}