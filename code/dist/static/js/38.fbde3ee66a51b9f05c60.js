webpackJsonp([38],{"1ijJ":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={props:{},data:function(){return{loading:!0,containner:"systemNotice",editMessage:!1,noticeList:[],messageIdList:[]}},computed:{},created:function(){var t=this;this.$http.get("/teaching/message/systemMessage").then(function(e){"0"==e.data.code?(t.noticeList=e.data.data,t.messageIdList=t.noticeList.map(function(t){return t.messageId})):t.$message({message:e.data.msg,type:"error"}),t.loading=!1}).catch(function(t){console.log(t)})},mounted:function(){},watch:{},methods:{navToSystemNotice:function(){this.containner="systemNotice",this.$router.push("/notice")},navToMyNotice:function(){this.containner="myNotice",this.$router.push("/admin/myNotice")},closeInfo:function(){this.editMessage=!1},updateInfo:function(t){var e=this;this.$refs[t].validate(function(t){t&&e.$http.post("",{userId:localStorage.getItem("userId"),phone:e.userInfo.phone,mail:e.userInfo.mail}).then(function(t){"0"==t.data.code?(e.editMessage=!1,e.$message({message:"更新成功！",type:"success"})):"1"==t.data.code?e.$router.push("/login"):e.$message({message:t.data.msg,type:"error"})}).catch(function(t){console.log(t)})})},allRead:function(){var t=this;this.$http.post("/teaching/message/messageRead",{messageIdList:this.messageIdList}).then(function(e){"0"==e.data.code?t.$message({message:"更新成功！",type:"success"}):t.$message({message:e.data.msg,type:"error"})}).catch(function(t){console.log(t)})}},components:{spin:s("ly8Z").a}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return"systemNotice"==t.containner?a("div",{staticClass:"page"},[a("div",{staticClass:"contentTitle"},[t._v("\n        系统通知\n    ")]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"readTitle"},[a("span",{on:{click:function(e){return t.allRead()}}},[t._v("全部标记已读")])]),t._v(" "),t.loading||0!=t.noticeList.length?t._e():a("div",{staticClass:"empty"},[a("img",{attrs:{src:s("dF1d"),alt:""}}),t._v(" "),a("p",[t._v("暂无通知~")])]),t._v(" "),a("spin",{attrs:{loading:t.loading}}),t._v(" "),a("ul",t._l(t.noticeList,function(e,s){return a("li",{key:s},[a("div",{staticClass:"title"},[t._v(t._s(e.tittle||"无"))]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(e.time||0))]),t._v(" "),a("div",{staticClass:"message"},[t._v(t._s(e.msg)+" "),a("router-link",{attrs:{to:e.routerUrl}},[t._v(">>点击查看>>")])],1)])}),0)],1)]):t._e()},staticRenderFns:[]};var i=s("VU/8")(a,n,!1,function(t){s("AlZt")},"data-v-2f30d071",null);e.default=i.exports},AlZt:function(t,e){}});
//# sourceMappingURL=38.fbde3ee66a51b9f05c60.js.map