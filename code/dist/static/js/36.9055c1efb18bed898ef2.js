webpackJsonp([36],{Ntyz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={data:function(){return{checked:!0,userInfo:{userNumber:"",pass:"",verifyCode:"",ident:"0"},verifySrc:"/teaching/common/kaptcha"}},created:function(){},methods:{changeVerifySrc:function(){this.verifySrc="/teaching/common/kaptcha?"+Math.random()},remPass:function(){this.checked?(localStorage.setItem("remAccount",this.userInfo.account),localStorage.setItem("remPass",this.userInfo.pass)):(localStorage.removeItem("remAccount"),localStorage.removeItem("remPass"))},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.$http.post("/teaching/user/login",t.Qs.stringify({userNumber:t.userInfo.userNumber,password:t.userInfo.pass,verifyCode:t.userInfo.verifyCode,ident:t.userInfo.ident})).then(function(e){0==e.data.code?(t.checked&&(localStorage.setItem("userAccount",t.userInfo.account),localStorage.setItem("userPass",t.userInfo.password)),localStorage.setItem("nickname",e.data.data.nickname),localStorage.setItem("headUrl",e.data.data.headUrl),localStorage.setItem("userId",e.data.data.userId),"0"==t.userInfo.ident?t.$router.push("/display"):"1"==t.userInfo.ident?t.$router.push("/admin"):t.$router.push("/super")):(t.verifySrc="/teaching/common/kaptcha?"+Math.random(),alert(e.data.msg))}).catch(function(e){})})},resetForm:function(e){this.$refs[e].resetFields()}}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"page"},[o("el-container",[o("el-header",[o("div",{staticClass:"header"},[o("span",{staticClass:"logo"},[o("img",{attrs:{src:r("Lf1u"),alt:""}})])])]),e._v(" "),o("el-main",[o("div",{staticClass:"container"},[o("div",{staticClass:"loginBox"},[o("div",{staticClass:"title"},[e._v("\n                        密码登录\n                    ")]),e._v(" "),o("el-form",{ref:"userInfo",attrs:{model:e.userInfo}},[o("el-form-item",{attrs:{prop:"account"}},[o("el-input",{attrs:{"prefix-icon":"el-icon-user-solid",placeholder:"账号"},model:{value:e.userInfo.userNumber,callback:function(t){e.$set(e.userInfo,"userNumber",t)},expression:"userInfo.userNumber"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"pass"}},[o("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock",placeholder:"密码","auto-complete":"off"},model:{value:e.userInfo.pass,callback:function(t){e.$set(e.userInfo,"pass",t)},expression:"userInfo.pass"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"verifyCode"}},[o("div",{staticClass:"verifyCode"},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"验证码"},model:{value:e.userInfo.verifyCode,callback:function(t){e.$set(e.userInfo,"verifyCode",t)},expression:"userInfo.verifyCode"}}),e._v(" "),o("img",{attrs:{alt:"",src:e.verifySrc},on:{click:e.changeVerifySrc}})],1)]),e._v(" "),o("el-form-item",{attrs:{prop:"ident"}},[o("el-radio",{attrs:{label:"0"},model:{value:e.userInfo.ident,callback:function(t){e.$set(e.userInfo,"ident",t)},expression:"userInfo.ident"}},[e._v("学生")]),e._v(" "),o("el-radio",{attrs:{label:"1"},model:{value:e.userInfo.ident,callback:function(t){e.$set(e.userInfo,"ident",t)},expression:"userInfo.ident"}},[e._v("老师")]),e._v(" "),o("el-radio",{attrs:{label:"2"},model:{value:e.userInfo.ident,callback:function(t){e.$set(e.userInfo,"ident",t)},expression:"userInfo.ident"}},[e._v("管理员")])],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("userInfo")}}},[e._v("登录")]),e._v(" "),o("el-button",{on:{click:function(t){return e.resetForm("userInfo")}}},[e._v("重置")]),e._v(" "),o("el-checkbox",{on:{change:e.remPass},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")])],1)],1)],1)])])],1)],1)},staticRenderFns:[]};var a=r("VU/8")(o,s,!1,function(e){r("ozUo")},"data-v-1f83ca2c",null);t.default=a.exports},ozUo:function(e,t){}});
//# sourceMappingURL=36.9055c1efb18bed898ef2.js.map