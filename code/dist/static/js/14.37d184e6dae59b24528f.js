webpackJsonp([14],{Ds80:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={props:{},data:function(){return{containner:"systemNotice",headUrl:localStorage.getItem("headUrl")||"",editMessage:!1,userInfo:{userId:"",nickname:"",userNumber:"",headUrl:"",userIdent:"",mail:"",phone:"",college:"",series:"",major:"",className:""},rules:{phone:[{required:!0,message:"不能为空",trigger:"blur"}],mail:[{required:!0,message:"不能为空",trigger:"blur"}]}}},computed:{},created:function(){var e=this;this.$http.get("/teaching/user/info/"+localStorage.getItem("userId")).then(function(s){"0"==s.data.code?e.userInfo=s.data.data:"1"==s.data.code?e.$router.push("/login"):e.userInfo=s.data.data}).catch(function(e){console.log(e)})},mounted:function(){},watch:{},methods:{navToSystemNotice:function(){this.containner="systemNotice",this.$router.push("/notice")},navToMyNotice:function(){this.containner="myNotice",this.$router.push("/myNotice")},closeInfo:function(){this.editMessage=!1},updateInfo:function(e){var s=this;this.$refs[e].validate(function(e){e&&s.$http.post("",{userId:localStorage.getItem("userId"),phone:s.userInfo.phone,mail:s.userInfo.mail}).then(function(e){"0"==e.data.code?(s.editMessage=!1,s.$message({message:"更新成功！",type:"success"})):"1"==e.data.code?s.$router.push("/login"):s.$message({message:e.data.msg,type:"error"})}).catch(function(e){console.log(e)})})}},components:{}},n={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"page"},[t("div",{staticClass:"divideLine"}),e._v(" "),t("div",{staticClass:"containner"},[t("div",{staticClass:"leftMenu"},[e._m(0),e._v(" "),t("ul",{staticClass:"menu"},[t("li",{on:{click:function(s){return e.navToSystemNotice()}}},[t("span",[e._v("系统通知")]),t("i",{staticClass:"el-icon-arrow-right"})]),e._v(" "),t("li",{on:{click:function(s){return e.navToMyNotice()}}},[t("span",[e._v("我的通知")]),t("i",{staticClass:"el-icon-arrow-right"})])])]),e._v(" "),"systemNotice"==e.containner?t("div",{staticClass:"rightContainner"},[t("div",{staticClass:"title"},[e._v("\n                系统通知\n            ")]),e._v(" "),t("div",{staticClass:"content"},[t("div",{staticClass:"headInfo"},[t("img",{attrs:{src:e.headUrl,alt:""}}),e._v(" "),t("div",[e._v(e._s(e.userInfo.nickname))])]),e._v(" "),t("div",{staticClass:"navTitle"},[t("span",{staticClass:"subTitle"},[e._v("基本信息")]),e._v(" "),t("i",{staticClass:"el-icon-edit-outline",on:{click:function(s){e.editMessage=!e.editMessage}}})]),e._v(" "),0==e.editMessage?t("div",{staticClass:"userInfo"},[t("div",[t("span",{staticClass:"label"},[e._v("姓名")]),t("span",[e._v(e._s(e.userInfo.nickname))])]),e._v(" "),t("div",[t("span",{staticClass:"label"},[e._v("身份")]),t("span",[e._v(e._s(e.userInfo.userIdent))])]),e._v(" "),t("div",[t("span",{staticClass:"label"},[e._v("学号/工号")]),t("span",[e._v(e._s(e.userInfo.userNumber))])]),e._v(" "),t("div",[t("span",{staticClass:"label"},[e._v("所在院")]),t("span",[e._v(e._s(e.userInfo.college))])]),e._v(" "),t("div",[t("span",{staticClass:"label"},[e._v("所在系")]),t("span",[e._v(e._s(e.userInfo.series))])]),e._v(" "),t("div",[t("span",{staticClass:"label"},[e._v("所在专业")]),t("span",[e._v(e._s(e.userInfo.major))])]),e._v(" "),t("div",[t("span",{staticClass:"label"},[e._v("班级")]),t("span",[e._v(e._s(e.userInfo.className))])]),e._v(" "),t("div",[t("span",{staticClass:"label"},[e._v("手机号码")]),t("span",[e._v(e._s(e.userInfo.phone))])]),e._v(" "),t("div",[t("span",{staticClass:"label"},[e._v("邮箱")]),t("span",[e._v(e._s(e.userInfo.mail))])])]):t("div",{staticClass:"userInfo"},[t("el-form",{ref:"form",attrs:{rules:e.rules,model:e.userInfo,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"姓名"}},[t("el-input",{attrs:{disabled:"true"},model:{value:e.userInfo.nickname,callback:function(s){e.$set(e.userInfo,"nickname",s)},expression:"userInfo.nickname"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"身份"}},[t("el-input",{attrs:{disabled:"true"},model:{value:e.userInfo.userIdent,callback:function(s){e.$set(e.userInfo,"userIdent",s)},expression:"userInfo.userIdent"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"学号/工号"}},[t("el-input",{attrs:{disabled:"true"},model:{value:e.userInfo.userNumber,callback:function(s){e.$set(e.userInfo,"userNumber",s)},expression:"userInfo.userNumber"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"所在院"}},[t("el-input",{attrs:{disabled:"true"},model:{value:e.userInfo.college,callback:function(s){e.$set(e.userInfo,"college",s)},expression:"userInfo.college"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"所在系"}},[t("el-input",{attrs:{disabled:"true"},model:{value:e.userInfo.series,callback:function(s){e.$set(e.userInfo,"series",s)},expression:"userInfo.series"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"所在专业"}},[t("el-input",{attrs:{disabled:"true"},model:{value:e.userInfo.major,callback:function(s){e.$set(e.userInfo,"major",s)},expression:"userInfo.major"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"班级"}},[t("el-input",{attrs:{disabled:"true"},model:{value:e.userInfo.className,callback:function(s){e.$set(e.userInfo,"className",s)},expression:"userInfo.className"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[t("el-input",{model:{value:e.userInfo.phone,callback:function(s){e.$set(e.userInfo,"phone",s)},expression:"userInfo.phone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"邮箱",prop:"mail"}},[t("el-input",{model:{value:e.userInfo.mail,callback:function(s){e.$set(e.userInfo,"mail",s)},expression:"userInfo.mail"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(s){return e.updateInfo("form")}}},[e._v("确定")]),e._v(" "),t("el-button",{attrs:{size:"small",type:"info"},on:{click:function(s){return e.closeInfo()}}},[e._v("取消")])],1)],1)],1)])]):e._e(),e._v(" "),"myNotice"==e.containner?t("div",{staticClass:"rightContainner"},[t("router-view")],1):e._e()])])},staticRenderFns:[function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"title"},[s("img",{attrs:{src:t("z1Z0"),alt:""}}),s("span",[this._v("消息中心")])])}]};var i=t("VU/8")(a,n,!1,function(e){t("F02I")},"data-v-07c39edf",null);s.default=i.exports},F02I:function(e,s){},z1Z0:function(e,s){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAABL0lEQVQ4T+2UwS7FUBCG/9Fg0zcg2GDPS/RM0g1JXwILNp7BhgVeogmbJjN9CfbYILxBN0iN9EZv2t5q720sLJzVOWf++eY/c5Ih9C8Skc9CxsxzAKwrhfp4qnphZnuFjogunXP7g4CqemVmO23JRHTtnNttjTUv4zhe8H3/rc95Ec+ybDGKoveqduLJItLZo2YhZq4xagcReQGwNI27iuaVmZfLcxM4k7sSUnU5BqrqoZmdzuhuJCeiI+fc2WhfAlT1xsy2hgAB3DLzdg0oIk8AVgYCn5l59R/4V3soIucANgGsAZgf+MsfAB4B3JWzrneMTVnIfgs0rtcJ/G7HhDlmPvjJcR+wdVg0R1bnPKwGkyRZ9zzvvnqX5/lGGIYPgxyWSWmaHhf7IAhO+j7nC42ldewHnMK5AAAAAElFTkSuQmCC"}});
//# sourceMappingURL=14.37d184e6dae59b24528f.js.map