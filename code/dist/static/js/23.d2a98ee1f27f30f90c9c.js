webpackJsonp([23],{PvZx:function(e,t){},j6eO:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("5YLu"),n=r("ZmIX"),a=r("gjrl"),s={props:{},data:function(){return{navData:[{name:"实验列表",path:"/admin/courseList/experiment/"+this.$route.params.courseId},{name:"添加实验",path:""}],form:{experimentName:"",experimentIntro:"",experimentText:"",experimentStatus:"0",isQuezhi:"0",isAnswerQuezhi:"0",valve:"",punishment:"",experimentAnswerContent:"",experimentDetailFile:[],experimentAnswerFile:[]},rules:{experimentName:[{required:!0,message:"不能为空",trigger:"blur"}],experimentText:[{required:!0,message:"不能为空",trigger:"blur"}],experimentStatus:[{required:!0,message:"不能为空",trigger:"blur"}],valve:[{required:!0,pattern:/^(0.\d+|0|1)$/,message:"不能为空或数值应在0~1之间",trigger:"blur"}],punishment:[{required:!0,pattern:/^(0.\d+|0|1)$/,message:"不能为空或数值应在0~1之间",trigger:"blur"}]},fileList:[],answerfileList:[]}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{updateDetailFile:function(e){this.form.experimentDetailFile=e,this.$message({message:"已确认！",type:"success"})},updateAnswerFile:function(e){this.form.experimentAnswerFile=e,this.$message({message:"已确认！",type:"success"})},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.$http.post("/teaching/teacher/experiment/add",{experimentName:t.form.experimentName,courseId:t.$route.params.courseId,experimentIntro:t.form.experimentIntro,experimentText:t.form.experimentText,experimentStatus:t.form.experimentStatus,valve:t.form.valve||1,punishment:t.form.punishment||1,experimentAnswerContent:t.form.experimentAnswerContent,experimentDetailFile:t.form.experimentDetailFile,experimentAnswerFile:t.form.experimentAnswerFile}).then(function(e){"0"==e.data.code?(t.$message({message:"成功新增实验！",type:"success"}),t.$router.push("/admin/courseList/experiment/"+t.$route.params.courseId)):"1"==e.data.code?t.$router.push("/login"):t.$message({message:e.data.msg,type:"error"})}).catch(function(e){console.log(e)})})},transformFile:function(e){var t=[];if(e instanceof Array)for(var r=0;r<e.length;r++)t.push({name:e[r].fileName,url:e[r].filePath});return t},filterFiles:function(e,t){for(var r=[],i=function(i){t.forEach(function(t){e[i].name==t.name&&r.push(e[i])})},n=0;n<e.length;n++)i(n);return r}},components:{breadCrumb:n.a,TinymceEditor:i.a,uploadFile:a.a}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page"},[r("div",{staticClass:"containner"},[r("breadCrumb",{attrs:{data:e.navData}}),e._v(" "),r("div",{staticClass:"contain"},[r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"实验名称",prop:"experimentName"}},[r("el-input",{model:{value:e.form.experimentName,callback:function(t){e.$set(e.form,"experimentName",t)},expression:"form.experimentName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"实验简介"}},[r("el-input",{model:{value:e.form.experimentIntro,callback:function(t){e.$set(e.form,"experimentIntro",t)},expression:"form.experimentIntro"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"实验详情",prop:"experimentText"}},[r("tinymceEditor",{model:{value:e.form.experimentText,callback:function(t){e.$set(e.form,"experimentText",t)},expression:"form.experimentText"}})],1),e._v(" "),r("el-form-item",[r("uploadFile",{attrs:{allFile:e.form.experimentDetailFile,someFile:e.fileList,isClose:!1},on:{updateFile:e.updateDetailFile}})],1),e._v(" "),r("el-form-item",{attrs:{label:"实验状态",prop:"experimentStatus"}},[r("el-radio-group",{model:{value:e.form.experimentStatus,callback:function(t){e.$set(e.form,"experimentStatus",t)},expression:"form.experimentStatus"}},[r("el-radio",{attrs:{label:"0"}},[e._v("正常")]),e._v(" "),r("el-radio",{attrs:{label:"1"}},[e._v("锁定")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"设置解锁阈值"}},[r("el-radio-group",{model:{value:e.form.isQuezhi,callback:function(t){e.$set(e.form,"isQuezhi",t)},expression:"form.isQuezhi"}},[r("el-radio",{attrs:{label:"0"}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:"1"}},[e._v("否")])],1),e._v(" "),0==e.form.isQuezhi?r("el-form-item",{attrs:{prop:"valve"}},[r("el-input",{staticStyle:{width:"120px"},model:{value:e.form.valve,callback:function(t){e.$set(e.form,"valve",t)},expression:"form.valve"}}),e._v(" "),r("el-alert",{staticStyle:{"line-height":"1em","margin-top":"1em"},attrs:{title:"提示：当提交实验的人数占比（班级人数）大于阈值时，将自动解锁下一个实验",type:"info","show-icon":""}})],1):e._e()],1),e._v(" "),r("el-form-item",{attrs:{label:"实验答案"}},[r("tinymceEditor",{model:{value:e.form.experimentAnswerContent,callback:function(t){e.$set(e.form,"experimentAnswerContent",t)},expression:"form.experimentAnswerContent"}})],1),e._v(" "),r("el-form-item",[r("uploadFile",{attrs:{allFile:e.form.experimentAnswerFile,someFile:e.answerfileList,isClose:!1},on:{updateFile:e.updateAnswerFile}})],1),e._v(" "),r("el-form-item",{attrs:{label:"设置答案阈值"}},[r("el-radio-group",{model:{value:e.form.isAnswerQuezhi,callback:function(t){e.$set(e.form,"isAnswerQuezhi",t)},expression:"form.isAnswerQuezhi"}},[r("el-radio",{attrs:{label:"0"}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:"1"}},[e._v("否")])],1),e._v(" "),0==e.form.isAnswerQuezhi?r("el-form-item",{attrs:{prop:"punishment"}},[r("el-input",{staticStyle:{width:"120px"},model:{value:e.form.punishment,callback:function(t){e.$set(e.form,"punishment",t)},expression:"form.punishment"}}),e._v(" "),r("el-alert",{staticStyle:{"line-height":"1em","margin-top":"1em"},attrs:{title:"提示：当学生点击查看参考答案时，最终实验成绩=教师打分*阈值比例",type:"info","show-icon":""}})],1):e._e()],1),e._v(" "),r("el-form-item",{staticClass:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("确定")]),e._v(" "),r("el-button",[e._v("取消")])],1)],1)],1)],1)])},staticRenderFns:[]};var m=r("VU/8")(s,o,!1,function(e){r("PvZx")},"data-v-aa0ab3fc",null);t.default=m.exports}});
//# sourceMappingURL=23.d2a98ee1f27f30f90c9c.js.map