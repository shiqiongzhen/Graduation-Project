webpackJsonp([20],{"0drK":function(t,s){},yxAI:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i={props:{},data:function(){return{navData:[{name:"教师管理",path:""},{name:"添加教师",path:""}],list:[],isConfirm:[]}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{add:function(){this.list.push({userNumber:"",nickname:"",password:""});var t=this.list.length;this.isConfirm[t-1]="false",this.$set(this.isConfirm,t-1,this.isConfirm[t-1])},edit:function(t){this.isConfirm[t]="false",this.$set(this.isConfirm,t,this.isConfirm[t])},confirm:function(t){this.isConfirm[t]="true",this.$set(this.isConfirm,t,this.isConfirm[t])},initIsConfirm:function(t){var s=this;t.forEach(function(){s.isConfirm.push("true")})},readFile:function(t){var s=this;"0"==t.code?(this.$message({message:"导入成功，请核对数据",type:"success"}),t.data.forEach(function(t){s.list.push(t)}),this.initIsConfirm(this.list)):"1"==t.code?this.$router.push("/login"):this.$message({message:t.msg,type:"error"})},submit:function(){var t=this;-1==this.isConfirm.indexOf("false")?this.$http.post("/teaching/admin/teacher/addTeacherByBatch",this.list).then(function(s){"0"==s.data.code?(t.$message({message:"新增成功！",type:"success"}),t.list=[]):"1"==s.data.code?t.$router.push("/login"):t.$message({message:s.data.msg,type:"error"})}).catch(function(t){console.log(t)}):this.$message({message:"请先确认信息！",type:"error"})}},components:{breadCrumb:e("ZmIX").a}},a={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"page"},[e("div",{staticClass:"head"},[e("breadCrumb",{attrs:{data:t.navData}}),t._v(" "),e("h4",[t._v("添加教师")])],1),t._v(" "),e("div",{staticClass:"container"},[e("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":"1",mode:"horizontal"}},[e("el-menu-item",{attrs:{index:"1"}},[t._v("信息填写")])],1),t._v(" "),e("div",{staticClass:"contain"},[e("div",{staticClass:"filteBar"},[e("div",[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){return t.add()}}},[e("i",{staticClass:"el-icon-plus"}),t._v(" 新增\n                    ")]),t._v(" "),e("el-upload",{staticStyle:{display:"inline-block"},attrs:{action:"/teaching/common/file/readFile","show-file-list":!1,"on-success":t.readFile}},[e("el-button",{attrs:{size:"small"}},[t._v("批量导入")])],1)],1),t._v(" "),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){return t.submit()}}},[t._v("\n                    确认添加\n                ")])],1),t._v(" "),e("div",{staticClass:"content"},[e("el-alert",{attrs:{type:"info","show-icon":""}},[e("template",{slot:"title"},[e("div",[t._v("注：上传符合规格的execl文件即可完成信息批量导入，点击文件即可下载导入模板："),e("a",{staticClass:"colorText",attrs:{href:"/teaching/common/file/getExcelTemple"}},[t._v("添加教师模板.xls")])])])],2),t._v(" "),e("div",{staticClass:"list"},[e("ul",[t._m(0),t._v(" "),t._l(t.list,function(s,i){return e("li",{key:i},["true"==t.isConfirm[i]?e("span",{staticClass:"liContent confirm"},[e("span",[t._v(t._s(s.userNumber))]),t._v(" "),e("span",[t._v(t._s(s.nickname))]),t._v(" "),e("span",[t._v(t._s(s.password))]),t._v(" "),e("span",[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.edit(i)}}},[t._v("编辑")]),t._v(" "),e("el-button",{attrs:{type:"text",size:"small"}},[t._v("删除")])],1)]):e("span",{staticClass:"liContent edit"},[e("span",[e("el-input",{attrs:{size:"small"},model:{value:s.userNumber,callback:function(e){t.$set(s,"userNumber",e)},expression:"item.userNumber"}})],1),t._v(" "),e("span",[e("el-input",{attrs:{size:"small"},model:{value:s.nickname,callback:function(e){t.$set(s,"nickname",e)},expression:"item.nickname"}})],1),t._v(" "),e("span",[e("el-input",{attrs:{size:"small",placeholder:"默认为工号"},model:{value:s.password,callback:function(e){t.$set(s,"password",e)},expression:"item.password"}})],1),t._v(" "),e("span",{staticStyle:{"padding-left":"calc(1em + 15px)"}},[e("el-button",{staticClass:"colorText1",attrs:{type:"text",size:"small"},on:{click:function(s){return t.confirm(i)}}},[t._v("确认")]),t._v(" "),e("el-button",{attrs:{type:"text",size:"small"}},[t._v("删除")])],1)])])})],2)])],1)])],1)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticStyle:{background:"#F4F4F5",color:"#909399"}},[s("span",{staticClass:"liContent"},[s("span",[this._v("教师工号")]),this._v(" "),s("span",[this._v("教师姓名")]),this._v(" "),s("span",[this._v("初始密码")]),this._v(" "),s("span",[this._v("操作")])])])}]};var n=e("VU/8")(i,a,!1,function(t){e("0drK")},"data-v-ba671d46",null);s.default=n.exports}});
//# sourceMappingURL=20.4d1fd252bbca6cd482ca.js.map