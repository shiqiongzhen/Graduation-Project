webpackJsonp([37],{"9Aa/":function(e,t){},HHjC:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={props:{},data:function(){return{detail:"",loading:!0,isOver:!1,isLock:!1,editIntro:!1,editMessage:!1,rules:{experimentName:[{required:!0,message:"不能为空",trigger:"blur"}],courseName:[{required:!0,message:"不能为空",trigger:"blur"}],courseCode:[{required:!0,message:"不能为空",trigger:"blur"}],courseCredit:[{required:!0,message:"不能为空",trigger:"blur"}]}}},computed:{},created:function(){this.init()},mounted:function(){},filters:{courseStatus:function(e){switch(e){case 0:return"正常";case 1:return"锁定";case 2:return"删除";case 3:return"结束";default:return""}}},methods:{updateInfo:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.$http.post("/teaching/teacher/course/updateCourseInfo",{courseId:t.$route.params.courseId,courseDetailId:t.detail.courseDetailId,courseCode:t.detail.courseCode,courseName:t.detail.courseName,courseCredit:t.detail.courseCredit}).then(function(e){"0"==e.data.code?(t.editMessage=!1,t.$message({message:"更新成功！",type:"success"})):"1"==e.data.code?t.$router.push("/login"):t.$message({message:e.data.msg,type:"error"})}).catch(function(e){console.log(e)})})},updateIntro:function(){var e=this;this.$http.post("/teaching/teacher/course/updateCourseInfo",{courseId:this.$route.params.courseId,courseDetailId:this.detail.courseDetailId,courseIntroduction:this.detail.courseIntroduction}).then(function(t){"0"==t.data.code?(e.editIntro=!1,e.$message({message:"更新成功！",type:"success"})):"1"==t.data.code?e.$router.push("/login"):e.$message({message:t.data.msg,type:"error"})}).catch(function(e){console.log(e)})},closeInfo:function(){this.editMessage=!1,this.init()},closeIntro:function(){this.editIntro=!1,this.init()},lockCourse:function(){var e=this;this.$http.get("/teaching/teacher/course/lock/"+this.$route.params.courseId).then(function(t){"0"==t.data.code?(e.$message({message:t.data.msg,type:"success"}),e.isLock=!0):"1"==t.data.code?e.$router.push("/login"):e.$message({message:t.data.msg,type:"error"})}).catch(function(e){console.log(e)})},recoverCourse:function(){var e=this;this.$http.get("/teaching/teacher/course/unlock/"+this.$route.params.courseId).then(function(t){"0"==t.data.code?(e.$message({message:t.data.msg,type:"success"}),e.isLock=!1):"1"==t.data.code?e.$router.push("/login"):e.$message({message:t.data.msg,type:"error"})}).catch(function(e){console.log(e)})},overCourse:function(){var e=this;this.$http.get("/teaching/teacher/course/end/"+this.$route.params.courseId).then(function(t){"0"==t.data.code?(e.$message({message:t.data.msg,type:"success"}),e.isOver=!0):"1"==t.data.code?e.$router.push("/login"):e.$message({message:t.data.msg,type:"error"})}).catch(function(e){console.log(e)})},delCourse:function(){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.get("/teaching/teacher/course/invalid/"+e.$route.params.courseId).then(function(t){"0"==t.data.code?e.$router.push("/admin"):"1"==t.data.code?e.$router.push("/login"):e.$message({message:t.data.msg,type:"error"})}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},init:function(){var e=this;this.$http.get("/teaching/teacher/course/detail/"+this.$route.params.courseId).then(function(t){"0"==t.data.code?(e.detail=t.data.data,3==e.detail.courseStatus&&(e.isOver=!0),1==e.detail.courseStatus&&(e.isLock=!0),0==e.detail.courseStatus&&(e.isLock=!1)):"1"==t.data.code?e.$router.push("/login"):e.$message({message:t.data.msg,type:"error"}),e.loading=!1}).catch(function(e){console.log(e)})}},components:{spin:s("ly8Z").a}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page"},[s("div",{staticClass:"messageTitle"},[e._v("\n        全部\n    ")]),e._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"navTitle"},[s("span",{staticClass:"title"},[e._v("基本信息")]),e._v(" "),s("i",{staticClass:"el-icon-edit-outline",on:{click:function(t){e.editMessage=!e.editMessage}}})]),e._v(" "),e.loading||""!=e.detail?e._e():s("div",[s("el-alert",{attrs:{title:"暂无数据",type:"info",center:"","show-icon":""}})],1),e._v(" "),s("spin",{attrs:{loading:e.loading}}),e._v(" "),0==e.editMessage?s("div",{staticClass:"message"},[s("div",{staticClass:"item"},[e._m(0),e._v(" "),s("span",{staticClass:"description"},[s("div",[e._v("老师："+e._s(e.detail.teacherNickname))]),e._v(" "),s("div",[e._v("课程："+e._s(e.detail.courseName))]),e._v(" "),s("div",[e._v("代码："+e._s(e.detail.courseCode))]),e._v(" "),s("div",[e._v("学分："+e._s(e.detail.courseCredit))]),e._v(" "),s("div",[e._v("状态："),s("span",{staticClass:"textColor"},[e._v(e._s(e._f("courseStatus")(e.detail.courseStatus)))])])])])]):s("div",{staticClass:"editMessage"},[s("div",{staticClass:"item"},[e._m(1),e._v(" "),s("span",{staticClass:"description"},[s("el-form",{ref:"detail",attrs:{rules:e.rules,model:e.detail,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"老师名称",prop:"teacherNickname"}},[e._v("\n                            "+e._s(e.detail.teacherNickname)+"\n                        ")]),e._v(" "),s("el-form-item",{attrs:{label:"课程",prop:"courseName"}},[s("el-input",{model:{value:e.detail.courseName,callback:function(t){e.$set(e.detail,"courseName",t)},expression:"detail.courseName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"代码",prop:"courseCode"}},[s("el-input",{model:{value:e.detail.courseCode,callback:function(t){e.$set(e.detail,"courseCode",t)},expression:"detail.courseCode"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"学分",prop:"courseCredit"}},[s("el-input",{model:{value:e.detail.courseCredit,callback:function(t){e.$set(e.detail,"courseCredit",t)},expression:"detail.courseCredit"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.updateInfo("detail")}}},[e._v("确定")]),e._v(" "),s("el-button",{attrs:{size:"small",type:"info"},on:{click:function(t){return e.closeInfo()}}},[e._v("取消")])],1)],1)],1)])]),e._v(" "),s("div",{staticClass:"navTitle"},[s("span",{staticClass:"title"},[e._v("基础介绍")]),e._v(" "),s("i",{staticClass:"el-icon-edit-outline",on:{click:function(t){e.editIntro=!e.editIntro}}})]),e._v(" "),0==e.editIntro?s("div",{staticClass:"introContent",domProps:{innerHTML:e._s(e.detail.courseIntroduction)}}):s("div",{staticClass:"introContent"},[s("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入内容"},model:{value:e.detail.courseIntroduction,callback:function(t){e.$set(e.detail,"courseIntroduction",t)},expression:"detail.courseIntroduction"}}),e._v(" "),s("div",{staticClass:"attachTxt"},[e._v("\n                最多200字\n            ")]),e._v(" "),s("div",{staticClass:"btnGroup-center"},[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.updateIntro()}}},[e._v("确定")]),e._v(" "),s("el-button",{attrs:{size:"small",type:"info"},on:{click:function(t){return e.closeIntro()}}},[e._v("取消")])],1)],1),e._v(" "),e._m(2),e._v(" "),s("div",{staticClass:"introContent"},[s("el-row",[0==e.isLock?s("span",[s("el-button",{staticStyle:{"background-color":"#F79500"},attrs:{disabled:e.isOver},on:{click:function(t){return e.lockCourse()}}},[e._v("锁定课程")])],1):e._e(),e._v(" "),1==e.isLock?s("span",[s("el-button",{attrs:{type:"success",disabled:e.isOver},on:{click:function(t){return e.recoverCourse()}}},[e._v("恢复课程")])],1):e._e(),e._v(" "),s("span",[s("el-button",{attrs:{type:"danger",disabled:e.isOver},on:{click:function(t){return e.overCourse()}}},[e._v("完结课程")])],1),e._v(" "),s("span",[s("el-button",{attrs:{type:"info",disabled:!e.isOver},on:{click:function(t){return e.delCourse()}}},[e._v("删除课程")])],1)]),e._v(" "),s("div",{staticClass:"btnText"},[e._v("注：只有已结束的课程才可以被删除")])],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"image"},[t("img",{attrs:{src:s("dkqV"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"imageBox"},[t("img",{attrs:{src:s("fZz7"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"navTitle"},[t("span",{staticClass:"title"},[this._v("班课操作")])])}]};var o=s("VU/8")(a,i,!1,function(e){s("9Aa/")},"data-v-191d2a04",null);t.default=o.exports}});
//# sourceMappingURL=37.c39c9bfee6d527ec889a.js.map