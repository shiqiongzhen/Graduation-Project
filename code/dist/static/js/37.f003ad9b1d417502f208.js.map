{"version":3,"sources":["webpack:///src/page/login.vue","webpack:///./src/page/login.vue?b1d8","webpack:///./src/page/login.vue"],"names":["login","data","checked","userInfo","userNumber","pass","verifyCode","ident","verifySrc","created","methods","changeVerifySrc","this","Math","random","remPass","localStorage","setItem","account","removeItem","submitForm","formName","_this","$refs","validate","valid","$http","post","Qs","stringify","password","then","res","code","token","nickname","headUrl","userId","$router","push","alert","msg","catch","err","resetForm","resetFields","page_login","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","__webpack_require__","alt","_v","ref","model","prop","prefix-icon","placeholder","value","callback","$$v","$set","expression","type","auto-complete","on","click","label","$event","change","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/37.f003ad9b1d417502f208.js","sourcesContent":["<template>\r\n    <div class=\"page\">\r\n        <el-container>\r\n            <el-header>\r\n                <div class=\"header\">\r\n                    <!-- <span><i class=\"el-icon-platform-eleme\"></i>智慧教学平台</span> -->\r\n                    <span class=\"logo\"><img src=\"@/assets/image/logo/logo@1x.png\" alt=\"\"></span>\r\n                </div>\r\n            </el-header>\r\n            <el-main>\r\n                <div class=\"container\">\r\n                    <div class=\"loginBox\">\r\n                        <div class=\"title\">\r\n                            密码登录\r\n                        </div>\r\n                        <el-form :model=\"userInfo\" ref=\"userInfo\">\r\n                            <el-form-item prop=\"account\">\r\n                                <el-input v-model=\"userInfo.userNumber\" prefix-icon=\"el-icon-user-solid\" placeholder=\"账号\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item prop=\"pass\">\r\n                                <el-input type=\"password\" v-model=\"userInfo.pass\" prefix-icon=\"el-icon-lock\" placeholder=\"密码\" auto-complete=\"off\"></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item prop=\"verifyCode\">\r\n                                <div class=\"verifyCode\">\r\n                                    <el-input v-model=\"userInfo.verifyCode\" auto-complete=\"off\" placeholder=\"验证码\"></el-input>\r\n                                    <img alt=\"\" :src=\"verifySrc\" @click=\"changeVerifySrc\">\r\n                                </div>\r\n                            </el-form-item>\r\n                            <el-form-item prop=\"ident\">\r\n                                <el-radio v-model=\"userInfo.ident\" label=\"0\">学生</el-radio>\r\n                                <el-radio v-model=\"userInfo.ident\" label=\"1\">老师</el-radio>\r\n                                <el-radio v-model=\"userInfo.ident\" label=\"2\">管理员</el-radio>\r\n                            </el-form-item>\r\n                            <el-form-item>\r\n                                <el-button type=\"primary\" @click=\"submitForm('userInfo')\">登录</el-button>\r\n                                <el-button @click=\"resetForm('userInfo')\">重置</el-button>\r\n                                <el-checkbox v-model=\"checked\" @change=\"remPass\">记住密码</el-checkbox>\r\n                            </el-form-item>\r\n                        </el-form>\r\n                    </div>\r\n                </div>\r\n            </el-main>\r\n        </el-container>\r\n    </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  export default {\r\n    data() {\r\n      return {\r\n        checked: true,\r\n        userInfo: {\r\n          userNumber: '',\r\n          pass: '',\r\n          verifyCode: '',\r\n          ident: '0'\r\n        },\r\n        verifySrc: '/teaching/common/kaptcha' \r\n      };\r\n    },\r\n    created() {\r\n    },\r\n    methods: {\r\n        changeVerifySrc(){\r\n            this.verifySrc=\"/teaching/common/kaptcha?\"+Math.random()\r\n        },\r\n        remPass(){\r\n                if(this.checked){\r\n                    localStorage.setItem('remAccount', this.userInfo.account)\r\n                    localStorage.setItem('remPass', this.userInfo.pass) \r\n                }else{\r\n                    localStorage.removeItem('remAccount')\r\n                    localStorage.removeItem('remPass') \r\n                }\r\n        },\r\n        submitForm(formName) {\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    // this.$http.post('/teaching/user/loginForTest', this.Qs.stringify({\r\n                    //     \"userNumber\":this.userInfo.userNumber,\r\n                    //     \"password\":this.userInfo.pass,\r\n                    //     \"ident\":this.userInfo.ident\r\n                    // }))\r\n                    this.$http.post('/teaching/user/login', this.Qs.stringify({\r\n                        \"userNumber\":this.userInfo.userNumber,\r\n                        \"password\":this.userInfo.pass,\r\n                        \"verifyCode\":this.userInfo.verifyCode,\r\n                        \"ident\":this.userInfo.ident\r\n                    }))\r\n                    .then((res) => {\r\n                        if(res.data.code == 0){\r\n                            if(this.checked){\r\n                                localStorage.setItem('userAccount', this.userInfo.account)\r\n                                localStorage.setItem('userPass', this.userInfo.password) \r\n                            }\r\n                            localStorage.setItem('token', res.data.data.token) \r\n                            localStorage.setItem('nickname', res.data.data.nickname)\r\n                            localStorage.setItem('headUrl', res.data.data.headUrl) \r\n                            localStorage.setItem('userId', res.data.data.userId) \r\n                            if(this.userInfo.ident=='0'){\r\n                                this.$router.push( '/display' )\r\n                            }else if(this.userInfo.ident=='1'){\r\n                                this.$router.push( '/admin' )\r\n                            }else{\r\n                                this.$router.push( '/super' )\r\n                            }\r\n                        }else{\r\n                            this.verifySrc=\"/teaching/common/kaptcha?\"+Math.random()\r\n                            alert(res.data.msg)\r\n                        }\r\n                    })\r\n                    .catch((err) => {\r\n                        // console.log(\"erro\",err)\r\n                    });\r\n                } else {\r\n                    // console.log('error submit!!');\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        resetForm(formName) {\r\n            this.$refs[formName].resetFields();\r\n        }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.page{\r\n    // display: inline-block;\r\n    // text-align: center;\r\n    .el-header{\r\n        background-color:#FFFFFF;\r\n        color: #333;\r\n        line-height: 60px;\r\n        .header{\r\n            width: 60%;\r\n            margin:0 auto;\r\n            font-size: 1em;\r\n            .logo{\r\n                img{\r\n                    height:60px;\r\n                }\r\n            }\r\n            .link{\r\n                float: right;\r\n                span{\r\n                    vertical-align:middle;\r\n                    img{\r\n                        vertical-align:middle;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    .el-main {\r\n        padding:0;\r\n        height: calc(100vh - 60px);\r\n        background: url(\"~@/assets/image/loginBackground.png\");\r\n        background-size:100vw calc(100vh - 100px);\r\n        box-shadow:0px 0px 3px 1px #C9C9C9;\r\n        background-repeat:no-repeat;\r\n        .container{\r\n            margin:0 auto;\r\n            width: 60%;\r\n            position: relative;\r\n        }\r\n        .loginBox{\r\n            text-align: center;\r\n            width: 30%;\r\n            padding:20px;\r\n            background: white;\r\n            position: absolute;\r\n            right: 0;\r\n            top: 15vh;\r\n            box-shadow:0px 0px 3px 1px #C9C9C9;\r\n            .title{\r\n                margin:3% 0 7% 0;\r\n            }\r\n            .verifyCode{\r\n                display: flex;\r\n                justify-content: space-between;\r\n                .el-input {\r\n                    flex: 2;\r\n                }\r\n                img{\r\n                    flex: 1;\r\n                    height: 40px;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('el-container',[_c('el-header',[_c('div',{staticClass:\"header\"},[_c('span',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":require(\"@/assets/image/logo/logo@1x.png\"),\"alt\":\"\"}})])])]),_vm._v(\" \"),_c('el-main',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"loginBox\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n                        密码登录\\n                    \")]),_vm._v(\" \"),_c('el-form',{ref:\"userInfo\",attrs:{\"model\":_vm.userInfo}},[_c('el-form-item',{attrs:{\"prop\":\"account\"}},[_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-user-solid\",\"placeholder\":\"账号\"},model:{value:(_vm.userInfo.userNumber),callback:function ($$v) {_vm.$set(_vm.userInfo, \"userNumber\", $$v)},expression:\"userInfo.userNumber\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"pass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"prefix-icon\":\"el-icon-lock\",\"placeholder\":\"密码\",\"auto-complete\":\"off\"},model:{value:(_vm.userInfo.pass),callback:function ($$v) {_vm.$set(_vm.userInfo, \"pass\", $$v)},expression:\"userInfo.pass\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"verifyCode\"}},[_c('div',{staticClass:\"verifyCode\"},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"placeholder\":\"验证码\"},model:{value:(_vm.userInfo.verifyCode),callback:function ($$v) {_vm.$set(_vm.userInfo, \"verifyCode\", $$v)},expression:\"userInfo.verifyCode\"}}),_vm._v(\" \"),_c('img',{attrs:{\"alt\":\"\",\"src\":_vm.verifySrc},on:{\"click\":_vm.changeVerifySrc}})],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"ident\"}},[_c('el-radio',{attrs:{\"label\":\"0\"},model:{value:(_vm.userInfo.ident),callback:function ($$v) {_vm.$set(_vm.userInfo, \"ident\", $$v)},expression:\"userInfo.ident\"}},[_vm._v(\"学生\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.userInfo.ident),callback:function ($$v) {_vm.$set(_vm.userInfo, \"ident\", $$v)},expression:\"userInfo.ident\"}},[_vm._v(\"老师\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"2\"},model:{value:(_vm.userInfo.ident),callback:function ($$v) {_vm.$set(_vm.userInfo, \"ident\", $$v)},expression:\"userInfo.ident\"}},[_vm._v(\"管理员\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('userInfo')}}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('userInfo')}}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('el-checkbox',{on:{\"change\":_vm.remPass},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"记住密码\")])],1)],1)],1)])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1d5f7082\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d5f7082\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1d5f7082\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1d5f7082\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}